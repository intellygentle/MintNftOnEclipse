"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDelegateRolesSerializer = void 0;
const serializers_1 = require("@metaplex-foundation/umi/serializers");
const generated_1 = require("../generated");
/* eslint no-bitwise: "off" */
function getDelegateRolesSerializer() {
    return (0, serializers_1.mapSerializer)((0, serializers_1.u8)(), (delegateRoles) => delegateRoles.map((role) => 1 << (role - 1)).reduce((a, b) => a | b, 0), (rolesMask) => {
        if (rolesMask === 0) {
            return [generated_1.DelegateRole.None];
        }
        return Object.keys(generated_1.DelegateRole)
            .filter((key) => Number.isNaN(Number(key)))
            .map((key) => generated_1.DelegateRole[key])
            .filter((value) => (rolesMask & (1 << (value - 1))) !== 0);
    });
}
exports.getDelegateRolesSerializer = getDelegateRolesSerializer;
//# sourceMappingURL=delegateRoles.js.map